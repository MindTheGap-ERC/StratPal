[{"path":"https://mindthegap-erc.github.io/StratPal/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"contributing to this repository","title":"contributing to this repository","text":"Welcome, thank contributing codebase! document specifies contribution guidelines.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/CONTRIBUTING.html","id":"important-links","dir":"","previous_headings":"","what":"Important links","title":"contributing to this repository","text":"Bug reporting Request features enhancements Improving documentation Contributing code features","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/CONTRIBUTING.html","id":"reporting-bugs","dir":"","previous_headings":"Contribution guidelines","what":"Reporting bugs","title":"contributing to this repository","text":"Suspect found bug? report , use GitHub issues , tag issue “bug” label. Please describe bug much detail can, including (1) description unexpected behavior observed (2) behavior expected (3) (possible) minimum running example. detailed bug report , easier us fix, faster able fix .","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/CONTRIBUTING.html","id":"request-features-or-enhancements","dir":"","previous_headings":"Contribution guidelines","what":"Request features or enhancements","title":"contributing to this repository","text":"think codebase lacking, use cool new feature, better integrate existing codebases packages? submit feature/enhancement request GitHub issues using “enhancement” label. Please describe detail new feature , integrate existing codebase packages. review enhancement request decide case--case basis implement . decision guided usefulness request available development time.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/CONTRIBUTING.html","id":"improving-documentation","dir":"","previous_headings":"Contribution guidelines","what":"Improving documentation","title":"contributing to this repository","text":"think documentation lacking? ’re always happy improve! want improve documentation, fork repository, make changes, submit pull request “documentation” label. include improvements code base review. think found mistake documentation, unsure whether modifications suitable, please open issues “documentation” label describe found.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/CONTRIBUTING.html","id":"improving-vignettes","dir":"","previous_headings":"Contribution guidelines","what":"Improving vignettes","title":"contributing to this repository","text":"vignettes core part package. like make modifications please follow procedure improving documentation.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/CONTRIBUTING.html","id":"contributing-code-and-features","dir":"","previous_headings":"Contribution guidelines","what":"Contributing code and features","title":"contributing to this repository","text":"like contribute new feature code base, improve existing code? fork repository, add features, submit pull request using “enhancement” label. decide case--case basis pull request accepted . discussed active authors contributers code base. Criteria inclusion new code code quality, clarity utility features, whether new feature enhances original idea code base. unsure feature fit codebase, please use GitHub issues discuss idea (using “enhancement” label) can give feedback. criterion code inclusion, strongly encourage new feature includes tests ensure feature works intended integrates existing codebase seamlessly.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/CONTRIBUTING.html","id":"authors-and-contributors","dir":"","previous_headings":"","what":"Authors and contributors","title":"contributing to this repository","text":"list authors contributors please see README file.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Intoduction to the StratPal package","text":"Welcome StratPal package. vignette provides overview structure package preliminaries needed efficiently use . go installation, dependencies, provide overview available example data, piping, working age-depth models. want skip introduction, can also get started right away. Throughout vignettes several tasks can solve. required understanding functionality package. aim explore available models data develop intuition stratigraphic paleobiology.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Intoduction to the StratPal package","text":"install StratPal package, first install remotes package running R console. , run install latest stable version package dependencies.","code":"install.packages(\"remotes\") remotes::install_github(repo = \"MindTheGap-ERC/StratPal\",                         build_vignettes = TRUE,                         ref = \"HEAD\",                         dependencies = TRUE)"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"dependencies","dir":"Articles","previous_headings":"","what":"Dependencies","title":"Intoduction to the StratPal package","text":"StratPal heavily relies age-depth modelling tools provided admtools package, automatically installed install StratPal. use functionality, need run running examples. Specifically, needed plotting age-depth models trait evolution. provide brief overview functionality admtools package need. want information, can browse package vignettes using visiting package website https://mindthegap-erc.github.io/admtools/.","code":"library(admtools) browseVignettes(package = \"admtools\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"example-data","dir":"Articles","previous_headings":"","what":"Example data","title":"Intoduction to the StratPal package","text":"StratPal comes synthetic example data, contains model parameters outputs carbonate platform simulated using CarboCAT Lite (Burgess (2013), Burgess (2023)). data stored variable scenarioA, automatically available package loaded. structure data described ?scenarioA. data taken scenario Hohmann et al. (2023), modeling procedure described detail Hohmann et al. 2024, see therein chronostratigraphic diagram transect carbonate platform. data contains information eustatic sea level curve used model run, elapsed model time, well information accumulated sediment thickness, water depth, bed thicknesses facies locations 2, 4, 6, 8, 10, 12 km shore simulated carbonate platform. example, eustatic sea level curve used model run:","code":"plot(x = scenarioA$t_myr,      y = scenarioA$sl_m,      type = \"l\",      xlab = \"Time [Myr]\",      ylab = \"Eustatic sea level [m]\",      main = \"Sea level curve used as model input\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"piping","dir":"Articles","previous_headings":"","what":"Piping","title":"Intoduction to the StratPal package","text":"vignettes StratPal package, use base R pipe operator |>. required run package, simplifies code makes underlying logic modeling pipeline clearer. functionality available R version 4.2 .","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"motivation-and-usage","dir":"Articles","previous_headings":"Piping","what":"Motivation and usage","title":"Intoduction to the StratPal package","text":"Consider following code simulating plotting random walk using random_walk function:  code job, flaws: introduced lot intermediate variables, makes hard trace logic trying achieve: plotting random walk. Using pipe operator |> can clarify logic simplify code:  see code thing: plots random walk, one step without intermediate variables chaining together commands using pipe |>. becomes powerful tool combine components longer modeling pipelines. also makes code readable, can simply read left right, without track intermediate steps. Semantically, can read |> “take data left |> use first argument function right |>.","code":"set.seed(42)             # set seed for computational reproducibility t = seq(0, 1, by = 0.01) # times where we evaluate the random walk l = random_walk(t)       # simulate the random walk plot(l, type = \"l\")      # line plot of the results set.seed(42)            # set seed for computational reproducibility seq(0, 1, by = 0.01) |> # define times of simulation     random_walk() |>      # simulate random walk   plot(type = \"l\")      # plot"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"advanced-usage","dir":"Articles","previous_headings":"Piping","what":"Advanced usage","title":"Intoduction to the StratPal package","text":"can also use |> pass arguments first place. , simply replace argument underscore _:","code":"# calculate deciles of normal distribution seq(0, 1, by = 0.1) |>   quantile(x = runif(100), p = _) # pass left hand side to the p argument #>         0%        10%        20%        30%        40%        50%        60%  #> 0.01754832 0.08499473 0.15879393 0.25042315 0.33077722 0.41258062 0.48894916  #>        70%        80%        90%       100%  #> 0.55111005 0.76271437 0.88512802 0.99655268"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"adm","dir":"Articles","previous_headings":"","what":"Age-depth models","title":"Intoduction to the StratPal package","text":"StratPal package use age-depth modeling functionality admtools package. go basics dealing age-depth models. details available functionality can browse package vignettes using visit package website https://mindthegap-erc.github.io/admtools/. get started, first load package using StratPal package comes example data age-depth models stored scenarioA variable, see section example data ?scenarioA details.","code":"browseVignettes(package = \"admtools\") library(\"admtools\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"defining-age-depth-models","dir":"Articles","previous_headings":"Age-depth models","what":"Defining age-depth models","title":"Intoduction to the StratPal package","text":"Let’s start defining age-depth model 2 km shore scenario . can done tp_to_adm (tie points age-depth model): nice thing constructing age-depth models way plenty functionality available extract data age-depth models, plot , transform data using .","code":"t = scenarioA$t_myr       # extract time tie points h = scenarioA$h_m[,\"2km\"] # get height tie points 2 km offshore in scenario A  # define age-depth model # h[i] is the stratigraphic position at time t[i] adm = tp_to_adm(t = t,          # tie points in time                 h = h,          # tie points at height                 T_unit = \"Myr\", # add time unit                  L_unit = \"m\")   # add length unit"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"plotting","dir":"Articles","previous_headings":"Age-depth models","what":"Plotting","title":"Intoduction to the StratPal package","text":"Now can plot age-depth model using basic plot command:","code":"# plot age-depth model, see ?plot.adm for details plot(adm,      lwd_acc = 2,   # plot thicker lines for intervals with sediment accumulation (lwd = line width)      lty_destr = 0) # don't plot destructive intervals/gaps (lty = line type) T_axis_lab()        # add time axis label L_axis_lab()        # add length axis label title(\"Age-depth model 2 km from shore\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"extracting-information","dir":"Articles","previous_headings":"Age-depth models","what":"Extracting information","title":"Intoduction to the StratPal package","text":"lot functionality available extract information age-depth model: can now use pipe operator first analysis age-depth model  can see 8 shorter hiatuses (100 kyr) 2 long hiatuses duration 500 kyr. get detailed list information hiatuses can use get_hiat_list.","code":"get_total_duration(adm) # time interval covered by adm #> [1] 1.999 get_total_thickness(adm) # sediment accumulated  #> [1] 145.9416 get_completeness(adm) # stratigraphic completeness #> [1] 0.3261631 summary(adm) # some summary statistics #> age-depth model  #> Total duration: 1.999 Myr #> Total thickness: 145.9416 m #> Stratigraphic completeness: 32.61631 %  #> 10 hiatus(es) # plot histogram of hiatus durations adm |>       get_hiat_duration() |>   hist( xlab = paste(\"Hiatus duration\", \"[\", get_T_unit(adm),\"]\"))"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"transforming-data","dir":"Articles","previous_headings":"Age-depth models","what":"Transforming data","title":"Intoduction to the StratPal package","text":"Given stratigraphic position, age-depth model can tell us old positions . Conversely, know timing event, age-depth model can tell us stratigraphic position event occur. can used transform types data time domain stratigraphic domain vice versa. admtools, transformation data done functions time_to_strat (transforming temporal data stratigraphic data) strat_to_time (transforming stratigrahic data temporal data). Details done types data can transformed can found vignette admtools package, applications stratigraphic paleobiology see vignettes linked “Getting started”.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"getting-started","dir":"Articles","previous_headings":"","what":"Getting started","title":"Intoduction to the StratPal package","text":"preliminaries way, can go details model stratigraphic paleobiology phenotypic evolution, explore vignette online mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution. Go details model stratigraphic paleobiology event data individual fossils first/last occurrences taxa, explore vignette online mindthegap-erc.github.io/StratPal/articles/event_data. See also details expand modeling pipelines described , explore vignette online mindthegap-erc.github.io/StratPal/articles/advanced_functionality.","code":"vignette(\"phenotypic_evolution\") vignette(\"event_data\") vignette(\"advanced_functionality\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/StratPal.html","id":"References","dir":"Articles","previous_headings":"","what":"References","title":"Intoduction to the StratPal package","text":"Burgess, Peter. 2013. “CarboCAT: cellular automata model heterogeneous carbonate strata.” Computers & Geosciences. https://doi.org/10.1016/j.cageo.2011.08.026. Burgess, Peter. 2023. “CarboCATLite v1.0.1.” Zenodo. https://doi.org/10.5281/zenodo.8402578 Hohmann, Niklas; Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2024. “Identification mode evolution incomplete carbonate successions.” BMC Ecology Evolution 24, 113. https://doi.org/10.1186/s12862-024-02287-2. Hohmann, Niklas, Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2023. “Identification Mode Evolution Incomplete Carbonate Successions - Supporting Data.” Open Science Framework. https://doi.org/10.17605/OSF.IO/ZBPWA, published CC-4.0 license.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"different-forward-models","dir":"Articles","previous_headings":"","what":"Different forward models","title":"Advanced Functionality and Writing Extensions","text":"examples, used age-depth models carbonate platform simulated CarboCAT lite (Burgess 2013, Burgess 2023). can easily expanded sedimentary forward model (marine terrestrial, siliciclastic, mixed, carbonate system). , age-depth information needs extracted forward model. vectors elapsed model time vs. accumulated height can handed tp_to_adm define age-depth model objects. can used pipelines examples. forward model included erosion, need first account time intervals sediment first deposited later removed. , first define sediment accumulation curve using admtools::tp_to_sac, pass admtools::sac_to_adm turn age-depth model. can use resulting age-depth model analysis pipeline.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"empirical-age-depth-models","dir":"Articles","previous_headings":"","what":"Empirical age-depth models","title":"Advanced Functionality and Writing Extensions","text":"course can use empirical age-depth models pipeline. can create tie points using tp_to_adm just case forward models. workflow StratPal work multiadm objects defined admtools. objects store multiple age-depth models account uncertainty. can however reduce complexity, e.g. via admtools::median_adm, use resulting age-depth model.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"other-ecological-gradients-and-niche-definitions","dir":"Articles","previous_headings":"","what":"Other ecological gradients and niche definitions","title":"Advanced Functionality and Writing Extensions","text":"examples used water depth ecological gradient. approach niche modeling used StratPal works types niches gradient. Potentially relevant gradients can extracted forward models example substrate consistency, temperature, water energy. used simple niche definition based probability density function normal distribution implemented snd_niche. can expanded arbitrary niche definitions along gradient. integration apply_niche, niche definitions must meet following criteria: functions take gradient values input return numbers 0 1 outputs. vectorized, meaning handed vector, return vector equal length. Similar criteria hold definitions gradient change gc: gc must function takes time (position) input, returns gradient values outputs. function must vectorized, meaning handed vector, must return vector equal length. long conditions gc niche_def met, arbitrary niche preferences along gradient can modeled using apply_niche.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"different-models-of-phenotypic-evolution","dir":"Articles","previous_headings":"","what":"Different models of phenotypic evolution","title":"Advanced Functionality and Writing Extensions","text":"types phenotypic evolution time domain can easily incorporated. seamless integration, need meet following criteria: take vector times first argument implementation continuous time version mode interest, time domain generally sampled irregular times (see methods section Hohmann et al. (2024) details). specifically, implementation must able deal heterodistant sampling time. return list two elements: One named t duplicate first argument handed function. second one named y contain simulated trait values. output list l assigned class “list” “timelist” via command class(l) = c(\"timelist\", \"list\") , see source code random_walk example. last two points make sure plotting via admtools::plot.timelist admtools::plot.stratlist works seamlessly.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"different-models-of-event-type-data","dir":"Articles","previous_headings":"","what":"Different models of event type data","title":"Advanced Functionality and Writing Extensions","text":"used (constant variable rate) Poisson point processes simulate event type data. model event-type data can used (e.g., one temporal correlation), long returns vector timing/position events.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"transforming-data-from-the-stratigraphic-domain-to-the-time-domain","dir":"Articles","previous_headings":"","what":"Transforming data from the stratigraphic domain to the time domain","title":"Advanced Functionality and Writing Extensions","text":"Much explanations focus forward modeling, .e., modeling time domain examining expressed stratigraphic domain. reverse direction (stratigraphic domain time domain) can modeled using strat_to_time.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"taphonomy-for-event-type-data","dir":"Articles","previous_headings":"","what":"Taphonomy for event type data","title":"Advanced Functionality and Writing Extensions","text":"Taphonomic effects can incorporated using using apply_taphonomy function. based principle niche modeling, makes use thin function, shown examples. pres_potential (resp. ctc), logical constraints apply niche_def (resp. gc).","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"transform-different-types-of-data","dir":"Articles","previous_headings":"","what":"Transform different types of data","title":"Advanced Functionality and Writing Extensions","text":"strat_to_time time_to_strat generic functions admtools package can transform different types data. Currently transform phylogenetic trees (phylo objects), lists (list class), numeric data event type data (class numeric). general, type temporal (resp. stratigraphic) data can transformed. , need define S3 class object like transform (already S3 class), implement transformation class time_to_strat strat_to_time. like add transformations new S3 classes admtools package, please see contribution guidelines (CONTRIBUTING.md file) admtools package details contribute code.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/advanced_functionality.html","id":"References","dir":"Articles","previous_headings":"","what":"References","title":"Advanced Functionality and Writing Extensions","text":"Burgess, Peter. 2013. “CarboCAT: cellular automata model heterogeneous carbonate strata.” Computers & Geosciences. https://doi.org/10.1016/j.cageo.2011.08.026. Burgess, Peter. 2023. “CarboCATLite v1.0.1.” Zenodo. https://doi.org/10.5281/zenodo.8402578 Hohmann, Niklas; Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2024. “Identification mode evolution incomplete carbonate successions.” BMC Ecology Evolution 24, 113. https://doi.org/10.1186/s12862-024-02287-2.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Stratigraphic Paleobiology for Event Data","text":"vignette provides introduction stratigraphic paleobiology applied “event type data” location age specimens, first/last occurrences taxa. First, let’s load required packages:","code":"library(StratPal) library(admtools)"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"modeling-fossil-occurrences-and-firstlast-fossil-occurrences","dir":"Articles","previous_headings":"","what":"Modeling fossil occurrences and first/last fossil occurrences","title":"Stratigraphic Paleobiology for Event Data","text":"Location age fossil specimens first/last occurrences taxa can considered distinct events occur specific points time stratigraphic positions. notable exceptions, principles apply “event type data”, treat together. model events point processes. StratPal package, provide two functions simulate point processes: p3, short Poisson point process, simulate events occur constant rate p3_var_rate variable rate Poisson point processes simulate events occur variable rates (e.g. extinction events) usage p3 straightforward:  Note due random fluctuations, histogram can differ lot constant rate simulated. effect pronounced low rates. p3_var_rate, can pass either function specifies rate x:  Alternatively, can pass two vectors x y. rate determined linear interpolation vectors. equivalent using function approxfun(x,y, rule = 2) input x.  Keep mind matter interpretation whether “events” produced p3 p3_var_rate age/timing locations specimens one taxon first/last occurrences multiple taxa. conceptual framework holds type event type. Task: Model “extinction event” background rate 3 species disappearing per Myr, peak extinction rate rate 10-fold increased interval 200 kyr. distinct peak histogram, much results differ due randomness run simulation multiple times?","code":"# simulate fossil occurrences over one Myr with an average of 15 occurrences per Myr p3(rate = 15, from = 0, to = 1) |>   hist(main = \"Fossil abundance\",        xlab = \"Time [Myr]\",        ylab = \"# Specimens\") # return 100 occurrences by setting n parameter # note that negative rates (where sin < 0) are ignored p3_var_rate(x = sin, from = 0, to = 9, n = 100) |>   hist(xlab = \"Time [Myr]\",        ylab= \"# Specimens\",        main = \"Fossil abundance\") # decline in last occurrences from 50 to 0 over 1 Myr p3_var_rate(x = c(0,1), y = c(50, 0), from = 0, to = 1, f_max = 50) |>   hist(xlab = \"Time [Myr]\",        main = \"Last occurrences\",        ylab = \"# Last occurrences\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"age-depth-models","dir":"Articles","previous_headings":"","what":"Age-depth models","title":"Stratigraphic Paleobiology for Event Data","text":"Throughout examples, use age-depth models 2 km 12 km offshore scenario Hohmann et al. (2024). See ?scenarioA vignette(\"StratPal\") details scenario .  Task: Plot sea level curve scenario , water depth curves two locations. connected age-depth models, specifically presence duration gaps low/high sedimentation rates? can use plot_sed_rate_t, get_hiat_list get_hiat_duration admtools.","code":"adm_2km = tp_to_adm(t = scenarioA$t_myr,   # 2 km from shore                 h = scenarioA$h_m[,\"2km\"],                 T_unit = \"Myr\",                 L_unit = \"m\")  adm_12km = tp_to_adm(t = scenarioA$t_myr,  # 12 km from shore                 h = scenarioA$h_m[,\"12km\"],                 T_unit = \"Myr\",                 L_unit = \"m\")  plot(adm_2km,       # plot age-depth model 2 km from shore      lwd_acc = 2,   # plot thicker lines for intervals with sediment accumulation (lwd = line width)      lty_destr = 0) # don't plot destructive intervals/gaps (lty = line type) T_axis_lab()        # add time axis label L_axis_lab()        # add length axis label title(\"Age-depth model 2 km from shore\") plot(adm_12km,      # plot age-depth model 12 km from shore      lwd_acc = 2,         lty_destr = 0) T_axis_lab()  L_axis_lab()  title(\"Age-depth model 12 km from shore\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"Stratigraphic-distortions","dir":"Articles","previous_headings":"","what":"Stratigraphic distortions of “event” type data","title":"Stratigraphic Paleobiology for Event Data","text":"event type data can directly transformed using age-depth model via time_to_strat. Depending events interpreted, need choose different options.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"fossil-specimens","dir":"Articles","previous_headings":"Stratigraphic distortions of “event” type data","what":"Fossil specimens","title":"Stratigraphic Paleobiology for Event Data","text":"Assuming events fossil specimens one taxon, can examine specimens appear stratigraphic column:  Note option destructive = TRUE time_to_strat. assume specimens lived hiatus destroyed. Assuming rate fossil specimens, get different pattern 12 km shore:  section much shorter (even 20 m), 2 distinct peaks bottom section around 13 m. Comparing age-depth model shows locations correspond times extreme stratigraphic condensation (low sedimentation rates, indicated near-horizontal age-depth model). result, time represented per stratigraphic increment, leading fossil accumulations (Hohmann 2021). Task: fossil abundance change along onshore-offshore gradient assume rate fossil occurrences time domain? intervals can recover spikes fossil abundance, .e. increase rate? intervals linked external drivers platform architecture sea level water depth?","code":"p3(rate = 200, from = min_time(adm_2km), to = max_time(adm_2km)) |> # constant rate in time domain   time_to_strat(adm_2km, destructive = TRUE) |>                     # transform into depth domain   hist(xlab = \"Stratigraphic height [m]\",                           # plot        main = \"Fossil abundance 2 km offshore\",        ylab = \"# Fossils\",        breaks = seq(from = min_height(adm_2km), to = max_height(adm_2km), length.out = 20)) p3(rate = 200, from = min_time(adm_12km), to = max_time(adm_12km)) |>  # same rate as 2 km from shore   time_to_strat(adm_12km, destructive = TRUE) |>                       # use different adm for transformation   hist(xlab = \"Stratigraphic height [m]\",                              # plot histogram        main = \"Fossil abundance 12 km offshore\",        ylab = \"# Fossils\",        breaks = seq(from = min_height(adm_12km), to = max_height(adm_12km), length.out = 20))"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"firstlast-occurrences-of-common-taxa","dir":"Articles","previous_headings":"Stratigraphic distortions of “event” type data","what":"First/Last occurrences of common taxa","title":"Stratigraphic Paleobiology for Event Data","text":"fossil record, can directly observe origination extinction rates taxa, first last occurrences. type event data can directly transformed using time_to_strat assume taxa common. assumption explored .  pattern last occurrences section 2 km offshore rate last occurrences constant time domain! peaks coincide hiatuses, last occurrences species disappear hiatus cluster hiatus surface (Holland Patzkowsky 2015). Note used option destructive = FALSE time_to_strat make sure last occurrences happen hiatus appear hiatus surface. assumption abundant taxa important: taxa rare, last occurrence match actual time extinction (Signor-Lipps effect, Signor Lipps 1982), last occurrences found hiatus surface. explore role abundance location last occurrences section range offset. patter 12 km offshore different:  almost perfectly matches pattern fossil abundance. offshore section much dominated condensation (influences fossil abundance first/last occurrences equally), onshore section dominated hiatuses (affect first/last occurrences). shows important understand “event” type data affected hiatuses: preserved, destroyed? Naturally, modeling pipeline valid first occurrences common taxa. Task: pattern last occurrences change across onshore-offshore gradient? observed spike last occurrences one section, stratigraphic information need look exclude possibility spike stratigraphic artifact?","code":"p3(rate = 200, from = min_time(adm_2km), to = max_time(adm_2km)) |> # constant rate of last occ   time_to_strat(adm_2km, destructive = FALSE) |>                    # non-destructive transformation!   hist(xlab = \"Stratigraphic height [m]\",                           # plot histogram        main = \"Last occurrences 2 km offshore\",        ylab = \"# Last occurrences\",        breaks = seq(from = min_height(adm_2km), to = max_height(adm_2km), length.out = 20)) p3(rate = 200, from = min_time(adm_12km), to = max_time(adm_12km)) |>   time_to_strat(adm_12km, destructive = TRUE) |>   hist(xlab = \"Stratigraphic height [m]\",        main = \"Last occurrences 12 km offshore\",        ylab = \"# Last occurrences\",        breaks = seq(from = min_height(adm_12km), to = max_height(adm_12km), length.out = 20))"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"Range-offset","dir":"Articles","previous_headings":"Stratigraphic distortions of “event” type data","what":"Range offset","title":"Stratigraphic Paleobiology for Event Data","text":"explore idea range offset, offset last occurrence taxon actual time extinction (Holland Patzkowsky 1999). First, model occurrences taxon extinction time domain, save variable:  can determine stratigraphic position highest preserved fossil: Now can determine two types range offset, stratigraphic range offset temporal range offset. Stratigraphic range offset distance (length dimension, SI units meter) position last preserved fossil stratigraphic position taxon actually goes extinct: example, stratigraphic range offset 0.0895 meters. temporal range offset (time dimension, SI units seconds derived units years) difference time age last occurrence actual time extinction: example, temporal range offset 0.125 Myr years. Task: (temporal stratigraphic) range offset change rate parameter? rate values taxa abundant enough make Signor-Lipps effect negligible (.e. stratigraphic range offset sufficiently small)? results vary (1) different times “true” extinction within fixed section (2) across onshore-offshore gradient?","code":"t_ext = 1.5 # time of \"true\" extinction r = 30      # rate of fossil occurrences # simulate rate fossil occurrences of taxon  f_occ = p3(r, from = min_time(adm_2km), to = t_ext) hist(f_occ,      xlab = \"Time [Myr]\",      ylab = \"# Fossils\",      main = \"Fossil abundance\",      breaks = seq(from = min_time(adm_2km), to = max_time(adm_2km), length.out = 20)) highest_occ = f_occ |>                          # take fossil occ. in time domain   time_to_strat(adm_2km, destructive = TRUE) |> # transform into stratigraphic domain, destroying fossils that coincide with hiatuses   max(na.rm = TRUE)                             # find highest preserved fossil (destroyed fossils are NA) h_true_ext = t_ext |>                           # stratigraphic position of \"true\" extinction   time_to_strat(adm_2km, destructive = FALSE)   # distance between last occurrence of taxon and location where they actually go extinct strat_range_offset_m = h_true_ext - highest_occ t_last_occ = highest_occ |> # time when last preserved fossil lived   strat_to_time(adm_2km) # time offset between true extinction and time when last fossil lived. time_range_offset_myr = t_ext - t_last_occ"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"niche-modeling","dir":"Articles","previous_headings":"","what":"Niche modeling","title":"Stratigraphic Paleobiology for Event Data","text":"far, examined effects stratigraphic distortions (.e., gaps changes sedimentation rates) event type data. , increase complexity pipeline incorporating niche modeling. , need two components: niche definition describes taxon’s optimum value along environmental gradient (cline), .e. abundant, tolerance along gradient information gradient changes time example focus water depth gradient. general modeling framework works type cline, see “advanced functionality” vignette details. First, define function determines water depth (gradient) changes time:  Next, define niche. done using function takes water depth (gradient) input, returns numbers 0 1. 1 corresponds taxon’s environmental optimum, 0 reflects completely outside niche. Values 0 1 interpreted observation collection probabilities. specimen present given time, collection probability probability observe specified gradient. example, use helper function snd_niche (snd standing “scaled normal distribution”) define niche. collection probability model follows shape bell curve peak environmental optimum, width specified tol parameter. identical probability collection model Holland Patzkowsky (1999). See “advanced functionality” vignette details construct niche definitions, ?bounded_niche another template niche model.  taxon modeling environmental niche optimum 10 m water depth (opt = 10), moderately tolerant fluctuations water depth (tol = 5) survive land (cutoff_val = 0). niche change gradient defined, can use apply_niche niche modeling.  can see taxon occurs times water depth favorable . Around 2 Myr, water depth shallow, fossil abundance reduced. basic niche modeling done, can incorporate modeling pipeline examine joint effects stratigraphic distortion age-depth models niche preferences.  can see general decrease fossil abundance, contrast time domain, prolonged intervals without fossil visible. gaps fossil abundance time domain coincide hiatuses, thus visible stratigraphic domain. decrease fossil abundance seen carbonate platform stratigraphy used characterized continuous growth carbonates, fill available accommodation space, thus reducing water depth time. typical scenario many carbonate platforms, scenarios possible.  Task: effect niche preference change across onshore-offshore gradient? dependency stratigraphic effects (gaps, changes sedimentation rate) water depth/eustatic sea level. linking ecology water depth strengthen weaken effects stratigraphic distortions examined section “stratigraphic distortions event type data”?","code":"t = scenarioA$t_myr           # time steps of the model wd = scenarioA$wd_m[,\"2km\"]   # water depth 2 km offshore at model time steps gc = approxfun(t, wd)         # define function that defines how the gradient changes with time (gc = *G*radient *C*hange)  plot(t, gc(t),       type = \"l\",       xlab = \"Time [Myr]\",      ylab = \"Water depth [m]\",      main = \"Water depth 2 km offshore\") my_niche = snd_niche(opt = 10,       # preferred water depth                       tol = 5,        # tolerance to water depth fluctuations                      cutoff_val = 0) # cut off negative values - the taxon does not survive on land x = seq(-2, 30, by = 0.1) plot(x, my_niche(x),      type = \"l\",      xlab = \"Water depth [m]\",      ylab = \"Collection probability\",      main = \"Collection probability of taxon\") p3(rate = 300, from = min_time(adm_2km), to = max_time(adm_2km)) |> # model occurrences of taxon based on a constant rate   apply_niche(niche_def = my_niche, gc = gc) |>                     # apply the niche model   hist(xlab = \"Time [Myr]\",        main = \"Fossil abundance\",        ylab = \"# Fossils\",        breaks = seq(from = min_time(adm_2km), to = max_time(adm_2km), length.out = 40)) p3(rate = 300, from = min_time(adm_2km), to = max_time(adm_2km)) |> # model occurrences based on constant rate   apply_niche(niche_def = my_niche, gc = gc) |>                     # apply niche model   time_to_strat(adm_2km, destructive = TRUE) |>                     # transform into strat. domain, destroy fossils that coincide with hiatuses    hist(xlab = \"Stratigraphic height [m]\",                           # plot results        main = \"Fossil abundance 2 km from shore\",        ylab = \"# Fossils\",        breaks = seq(from = min_height(adm_2km), to = max_height(adm_2km), length.out = 40)) list(\"t\" = t, \"y\" = wd) |>    # create list with time - water depth information   time_to_strat(adm_2km) |>   # transform into the strat. domain   plot(orientation = \"lr\",    # plot water depth information in the stratigraphic domain        type = \"l\",        xlab = \"Stratigraphic position [m]\",        ylab = \"Water depth [m]\",        main = \"Water depth in section 2 km from shore\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"further-reading","dir":"Articles","previous_headings":"","what":"Further reading","title":"Stratigraphic Paleobiology for Event Data","text":"Go details model stratigraphic paleobiology phenotypic evolution, explore vignette online mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution. See also details expand modeling pipelines described , explore vignette online mindthegap-erc.github.io/StratPal/articles/advanced_functionality.","code":"vignette(\"phenotypic_evolution\") vignette(\"advanced_functionality\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/event_data.html","id":"References","dir":"Articles","previous_headings":"","what":"References","title":"Stratigraphic Paleobiology for Event Data","text":"Hohmann, Niklas. 2021. “Incorporating information varying sedimentation rates paleontological analyses.” PALAIOS. https://doi.org/10.2110/palo.2020.038. Hohmann, Niklas; Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2024. “Identification mode evolution incomplete carbonate successions.” BMC Ecology Evolution 24, 113. https://doi.org/10.1186/s12862-024-02287-2. Holland, Steven M. Patzkowsky, Mark E. 1999. “Models simulating fossil record.” Geology. https://doi.org/10.1130/0091-7613(1999)027%3C0491:MFSTFR%3E2.3.CO;2 Holland, Steven M. Patzkowsky, Mark E. 2015. “stratigraphy mass extinction.” Palaeontology. https://doi.org/10.1111/pala.12188. Signor, Philip W.; Lipps, Jere H. 1982. “Sampling bias, gradual extinction patterns catastrophes fossil record.” Geological Society America Special Paper 190.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"describe modeling pipeline stratigraphic paleobiology phenotypic evolution. First, let’s load required packages:","code":"library(StratPal) library(admtools)"},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"implemented-modes-of-evolution","dir":"Articles","previous_headings":"Modes of evolution in the time domain","what":"Implemented modes of evolution","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"StratPal package provides three functions simulating different modes evolution time domain: stasis simulates evolutionary stasis independent, normally distributed random variables mean mean standard deviation sd (Hunt 2006). random_walk simulates trait evolution following (potentially biased) random walk variability sigma, directionality mu, initial trait value y0 (e.g. Bookstein 1987). Setting mu negative (positive) value make value random walk decrease (increase) time, sigma determines effect randomness trait values. ornstein_uhlenbeck corresponds convergence phenotypic optimum, mu optimal value (long term mean), theta determines fast mu approached, sigma noise level, y0 initial trait value (Lande 1976). Use vignette(\"advanced_functionality\") guidelines implement modes evolution.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"visualization","dir":"Articles","previous_headings":"Modes of evolution in the time domain","what":"Visualization","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"can visualize different modes evolution using following pipeline:  Task: Modify pipeline get intuition different modes evolution. effects parameters, biological meaning?","code":"seq(0, 1, by = 0.01) |>             # times of simulation in Myr. Simulate over 1 Myr years with 10 kyr resolution   random_walk(sigma = 1, mu = 3) |> # simulate random walk with increasing trait values   plot(type = \"l\",                  # plot results        xlab = \"Time [Myr]\",        ylab = \"Trait value\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"stratigraphic-domain","dir":"Articles","previous_headings":"","what":"Stratigraphic domain","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"interested phenotypic evolution preserved stratigraphic record, .e. trait evolution within lineage preserved specific location stratigraphic record. develop modeling pipelines answer question.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"age-depth-models","dir":"Articles","previous_headings":"Stratigraphic domain","what":"Age-depth models","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"example, compare preservation trait evolution 2 km 12 km offshore carbonate platform scenario Hohmann et al. (2024). See ?scenarioA vignette(\"StratPal\") details scenario . First define age-depth models:","code":"adm_2km = tp_to_adm(t = scenarioA$t_myr,    # 2 km from shore                 h = scenarioA$h_m[,\"2km\"],                 T_unit = \"Myr\",                 L_unit = \"m\")  adm_12km = tp_to_adm(t = scenarioA$t_myr,   # 12 km from shore                 h = scenarioA$h_m[,\"12km\"],                 T_unit = \"Myr\",                 L_unit = \"m\")  plot(adm_2km,       # plot age-depth model 2 km from shore      lwd_acc = 2,   # plot thicker lines for intervals with sediment accumulation (lwd = line width)      lty_destr = 0) # don't plot destructive intervals/gaps (lty = line type) T_axis_lab()        # add time axis label L_axis_lab()        # add length axis label title(\"Age-depth model 2 km from shore\")  plot(adm_12km,      # plot age-depth model 12 km from shore      lwd_acc = 2,         lty_destr = 0)  T_axis_lab()  L_axis_lab()  title(\"Age-depth model 12 km from shore\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"stratigraphic-expression-of-phenotypic-evolution","dir":"Articles","previous_headings":"Stratigraphic domain","what":"Stratigraphic expression of phenotypic evolution","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"use defined age-depth models transform simulated trait values time domain depth domain via time_to_strat:  biased random walk time domain look like observed 2 km offshore simulated carbonate platform. large jumps traits correspond long hiatuses caused prolonged drops relative sea level (Hohmann et al. 2024). Compare figure random walk time domain (without stratigraphic distortions). 12 km offshore, preservation different:  can also see two jumps, first different location compared section 2 km offshore. Looking age-depth models, can see : 2 km offshore, jumps caused prolonged hiatuses associated massive drops sea level around 0.5 Myr 1.5 Myr. 12 km offshore, age-depth model shows fewer gaps, prolonged intervals low sedimentation rates beginning simulation around 1.5 Myr. leads intervals rate phenotypic evolution appears accelerated (sedimentological) condensation (Hohmann 2021). can see artefactual jumps traits observable stratigraphic record caused gaps. Task: effect vary different modes evolution (different parameter choices), different locations platform (e.g., along onshore-offshore gradient)? Can make general statements see strongest effects?","code":"seq(from = min_time(adm_2km), to = max_time(adm_2km), by = 0.01) |> # sample every 10 kyr over the interval covered by the adm    random_walk(sigma = 1, mu = 3) |>                                 # simulate random walk   time_to_strat(adm_2km, destructive = FALSE) |>                    # transform data from time to strat domain   plot(type = \"l\",                                                  # plot        orientation = \"lr\",        xlab = paste0(\"Stratigraphic height [\", get_L_unit(adm_2km), \"]\"),        ylab = \"Trait value\",        main = \"Trait evolution 2 km from shore\") seq(from = min_time(adm_12km), to = max_time(adm_12km), by = 0.01) |> # sample every 10 kyr over the interval covered by the adm    random_walk(sigma = 1, mu = 3) |>                                   # simulate random walk   time_to_strat(adm_12km, destructive = FALSE) |>                     # transform data from time to strat domain   plot(type = \"l\",                                                    # plot results        orientation = \"lr\",        xlab = paste0(\"Stratigraphic height [\", get_L_unit(adm_12km), \"]\"),        ylab = \"Trait value\",        main = \"Trait evolution 12 km from shore\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"prescribing-a-sampling-strategy","dir":"Articles","previous_headings":"Stratigraphic domain","what":"Prescribing a sampling strategy","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"plots already give us good idea stratigraphic effects can change interpretation trait evolution. However, small imperfection. simulate lineage every 10 kyr, sampled irregularly stratigraphic domain: sedimentation rates high, samples can multiple meters apart, sedimentation rates low, centimeters apart. fix , want prescribe stratigraphic domain samples taken. allows us examine effect different sampling strategies perception trait evolution. following steps: Determine sampling locations stratigraphic domain. Calculate times correspond said sampling locations via strat_to_time. Simulate lineage said times. Transform simulated trait values back stratigraphic domain using time_to_strat. Plot result. Let’s assume take sample every 2 meters. five steps result following modeling pipeline:  ! lineage look like sampled every 2 meters sections 2 km shore. Task: prescribing sampling strategy change interpretations last task? Can draw conclusions sampling strategy best suited given environment mode evolution?","code":"dist_between_samples_m = 2 sampling_loc_m = seq(from = 0.5 * dist_between_samples_m,                      to = max_height(adm_2km),                      by = dist_between_samples_m)  sampling_loc_m |>                                  # sampling locations   strat_to_time(adm_2km) |>                        # determine times where lineage is sampled   random_walk(sigma = 1, mu = 3) |>                # simulate trait values at these times   time_to_strat(adm_2km, destructive = FALSE) |>   # transform trait values to stratigraphic domain   plot(orientation = \"lr\",                         # plot stratigrahic data        type = \"l\",                ylab = \"Trait Value\",        xlab = paste0(\"Stratigraphic height [\", get_L_unit(adm_2km), \"]\"),        main = \"Trait evolution 2 km from shore\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"further-reading","dir":"Articles","previous_headings":"","what":"Further reading","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"Run details model stratigraphic paleobiology event data individual fossils first/last occurrences taxa, explore vignette online mindthegap-erc.github.io/StratPal/articles/event_data. See also details expand modeling pipelines described , explore vignette online mindthegap-erc.github.io/StratPal/articles/advanced_functionality.","code":"vignette(\"event_data\") vignette(\"advanced_functionality\")"},{"path":"https://mindthegap-erc.github.io/StratPal/articles/phenotypic_evolution.html","id":"References","dir":"Articles","previous_headings":"","what":"References","title":"Stratigraphic Paleobiology for Phenotypic Evolution","text":"Bookstein, Fred L. 1987. “Random walk existence evolutionary rates.” Paleobiology. https://doi.org/10.1017/S0094837300009039. Hohmann, Niklas. 2021. “Incorporating information varying sedimentation rates paleontological analyses.” PALAIOS. https://doi.org/10.2110/palo.2020.038. Hohmann, Niklas; Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2024. “Identification mode evolution incomplete carbonate successions”. BMC Ecology Evolution 24, 113. https://doi.org/10.1186/s12862-024-02287-2. Hunt, Gene. 2006. “Fitting Comparing Models Phyletic Evolution: Random Walks Beyond.” Paleobiology. https://doi.org/10.1666/05070.1. Lande, Russell. 1976. “Natural selection random gentic drift phenotypic evolution.” Evolution. https://doi.org/10.1111/j.1558-5646.1976.tb00911.x","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Niklas Hohmann. Author, maintainer.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hohmann N (2024). StratPal: Stratigraphic Paleobiology Modeling Pipelines. R package version 0.1.1.9000, https://github.com/MindTheGap-ERC/StratPal, https://mindthegap-erc.github.io/StratPal/.","code":"@Manual{,   title = {StratPal: Stratigraphic Paleobiology Modeling Pipelines},   author = {Niklas Hohmann},   year = {2024},   note = {R package version 0.1.1.9000, https://github.com/MindTheGap-ERC/StratPal},   url = {https://mindthegap-erc.github.io/StratPal/}, }"},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"stratpal","dir":"","previous_headings":"","what":"Stratigraphic Paleobiology Modeling Pipelines","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"R package stratigraphic paleobiology modeling pipelines.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"fossil record joint expression ecological, taphonomic, evolutionary, stratigraphic processes (Holland Patzkowsky, 2012). package allowing simulate biological processes time domain (e.g., trait evolution, fossil abundance), examine expression rock record (stratigraphic domain) influenced based age-depth models, ecological niche models, taphonomic effects. Functions simulating common processes used modeling trait evolution event type data first/last occurrences provided can used standalone part pipeline. package comes example data sets tutorials several vignettes, can used template set one’s simulation.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"authors","dir":"","previous_headings":"","what":"Authors","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"Niklas Hohmann Utrecht University email: n.h.hohmann [] uu.nl Web page: uu.nl/staff/NHohmann Orcid: 0000-0003-1559-1838","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"requirements","dir":"","previous_headings":"","what":"Requirements","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"R version >= 4.2","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"install package CRAN, run R console.","code":"install.packages(\"StratPal\")"},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"github","dir":"","previous_headings":"Installation","what":"Github","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"install package GitHub, first install remotes package running R console. , run install latest stable version package.","code":"install.packages(\"remotes\") remotes::install_github(repo = \"MindTheGap-ERC/StratPal\",                         build_vignettes = TRUE,                         ref = \"HEAD\",                         dependencies = TRUE)"},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"Run load package. Use view available vignettes (long form documentation) use cases visit package webpage (mindthegap-erc.github.io/StratPal) get started.","code":"library(StratPal) browseVignettes(package = \"StratPal\")"},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"contribution","dir":"","previous_headings":"","what":"Contribution","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"contribution guidelines see CONTRIBUTING.md file","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"Apache 2.0, see LICENSE file license text.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"copyright","dir":"","previous_headings":"","what":"Copyright","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"Copyright 2024 Netherlands eScience Center Utrecht University","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"cite package, please use Hohmann, Niklas. 2024. “StratPal: R package stratigraphic paleobiology modeling pipelines (v0.1.1).” Zenodo. https://doi.org/10.5281/zenodo.13373351. Alternatively, can also use CITATION.cff file root repository, citation(\"StratPal\").","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"References","dir":"","previous_headings":"","what":"References","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"Holland, Steven M. Patzkowsky, Mark E. “Stratigraphic Paleobiology : Understanding Distribution Fossil Taxa Time Space.”” University Chicago Press; 2012. package uses data Hohmann, Niklas; Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2024. “Identification mode evolution incomplete carbonate successions.” BMC Ecology Evolution, 24, 113. DOI: 10.1186/s12862-024-02287-2. Hohmann, Niklas, Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2023. “Identification Mode Evolution Incomplete Carbonate Successions - Supporting Data.” Open Science Framework. https://doi.org/10.17605/OSF.IO/ZBPWA, published CC-4.0 license.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/index.html","id":"funding-information","dir":"","previous_headings":"","what":"Funding information","title":"Stratigraphic Paleobiology Modeling Pipelines","text":"Funded European Union (ERC, MindTheGap, StG project 101041077). Views opinions expressed however author(s) necessarily reflect European Union European Research Council. Neither European Union granting authority can held responsible .","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/StratPal-package.html","id":null,"dir":"Reference","previous_headings":"","what":"StratPal: Stratigraphic Paleobiology Modeling Pipelines — StratPal-package","title":"StratPal: Stratigraphic Paleobiology Modeling Pipelines — StratPal-package","text":"fossil record joint expression ecological, taphonomic, evolutionary, stratigraphic processes (Holland Patzkowsky, 2012, ISBN:978-0226649382). package allowing simulate biological processes time domain (e.g., trait evolution, fossil abundance), examine expression rock record (stratigraphic domain) influenced based age-depth models, ecological niche models, taphonomic effects. Functions simulating common processes used modeling trait evolution event type data first/last occurrences provided can used standalone part pipeline. package comes example data sets tutorials several vignettes, can used template set one's simulation.","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/StratPal-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"StratPal: Stratigraphic Paleobiology Modeling Pipelines — StratPal-package","text":"Maintainer: Niklas Hohmann N.H.Hohmann@uu.nl (ORCID)","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_niche.html","id":null,"dir":"Reference","previous_headings":"","what":"apply niche model to events — apply_niche","title":"apply niche model to events — apply_niche","text":"Models niches removing events (fossil occurrences) outside niche using function thin. Combines functions niche_def gc (\"gradient change\") determine taxons' collection probability changes time/position. done composing niche_def gc. result used thinning events x.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_niche.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"apply niche model to events — apply_niche","text":"","code":"apply_niche(x, niche_def, gc)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_niche.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"apply niche model to events — apply_niche","text":"x events, e.g. times/ages fossil occurrences stratigraphic position. niche_def function, specifying niche along gradient. return 0 taxon outside niche, 1 inside niche. Values 0 1 interpreted collection probabilities. gc function, stands \"gradient change\". Specifies gradient changes, e.g. time","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_niche.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"apply niche model to events — apply_niche","text":"numeric vector, timing/location events (e.g. fossil ages/locations) preserved niche model applied","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_niche.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"apply niche model to events — apply_niche","text":"","code":"## setup # using water depth as gradient  t = scenarioA$t_myr  wd = scenarioA$wd_m[,\"8km\"]  gc = approxfun(t, wd)  plot(t, gc(t), type = \"l\", xlab = \"Time\", ylab = \"water depth [m]\",   main = \"gradient change with time\")   # define niche  # preferred wd 10 m, tolerant to intermediate wd changes (standard deviation 10 m), non-terrestrial  niche_def = snd_niche(opt = 10, tol = 10, cutoff_val = 0)  plot(seq(-1, 50, by = 0.5), niche_def(seq(-1, 50, by = 0.5)), type = \"l\",  xlab = \"water depth\", ylab = \"collection probability\", main = \"Niche def\")   # niche pref with time  plot(t, niche_def(gc(t)), type = \"l\", xlab = \"time\",  ylab = \"collection probability\", main = \"collection probability with time\")    ## simulate fossil occurrences  foss_occ = p3(rate = 100, from = 0, to = max(t))  # foss occ without niche pref  hist(foss_occ, xlab = \"time\")   foss_occ_niche = apply_niche(foss_occ, niche_def, gc)  # fossil occurrences with niche preference  hist(foss_occ_niche, xlab = \"time\")    # see also  #vignette(\"event_data\")  # for a detailed example on niche modeling"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_taphonomy.html","id":null,"dir":"Reference","previous_headings":"","what":"model taphonomic effects — apply_taphonomy","title":"model taphonomic effects — apply_taphonomy","text":"Models taphonomy combining change taphonomic conditions preservation potential function taphonomic conditions determine preservation potential changes. used systematically remove (thin) event data using thin.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_taphonomy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"model taphonomic effects — apply_taphonomy","text":"","code":"apply_taphonomy(x, pres_potential, ctc)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_taphonomy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"model taphonomic effects — apply_taphonomy","text":"x events, e.g. times/ages fossil occurrences stratigraphic position. pres_potential function. Takes taphonomic conditions input returns preservation potential (number 0 1) ctc function, change taphonomic conditions (ctc) time stratigraphic position.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_taphonomy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"model taphonomic effects — apply_taphonomy","text":"numeric vector, location/timing events (e.g. fossil occurrences) taphonomic filter applied","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/apply_taphonomy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"model taphonomic effects — apply_taphonomy","text":"","code":"# see #vignette(\"advanced_functionality\") # for details on usage"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/bounded_niche.html","id":null,"dir":"Reference","previous_headings":"","what":"define niche from boundaries — bounded_niche","title":"define niche from boundaries — bounded_niche","text":"Defines simple niche model niche defined given lower limit (g_min) upper limie (g_max) gradient taxon can tolerate","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/bounded_niche.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"define niche from boundaries — bounded_niche","text":"","code":"bounded_niche(g_min, g_max)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/bounded_niche.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"define niche from boundaries — bounded_niche","text":"g_min lowest value gradient taxon can tolerate g_max highest value gradient taxon can tolerate","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/bounded_niche.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"define niche from boundaries — bounded_niche","text":"function describing niche usage apply_niche. function returns 1 taxon within niche (gradient g_min g_max), 0 otherwise","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/bounded_niche.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"define niche from boundaries — bounded_niche","text":"","code":"x = seq(0, 10, by = 0.2) f = bounded_niche(2,5) plot(x, f(x), type = \"l\", xlab = \"Gradient\", ylab = \"Observation probability\", main = \"Observation probability of taxon\")   # see also #vignette(\"event_data\") # for details how to use this functionality"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/ornstein_uhlenbeck.html","id":null,"dir":"Reference","previous_headings":"","what":"simulate ornstein-uhlenbeck (OU) process — ornstein_uhlenbeck","title":"simulate ornstein-uhlenbeck (OU) process — ornstein_uhlenbeck","text":"Simulates Ornstein-Uhlenbeck process using Euler-Maruyama method. process simulated scale 0.25 * min(diff(t)) interpolated values t.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/ornstein_uhlenbeck.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simulate ornstein-uhlenbeck (OU) process — ornstein_uhlenbeck","text":"","code":"ornstein_uhlenbeck(t, mu = 0, theta = 1, sigma = 1, y0 = 0)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/ornstein_uhlenbeck.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simulate ornstein-uhlenbeck (OU) process — ornstein_uhlenbeck","text":"t times process simulated. Can heterodistant mu scalar, long term mean theta scalar, mean reversion speed sigma positive scalar, strength randomness y0 scalar, initial value (value process first entry t)","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/ornstein_uhlenbeck.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"simulate ornstein-uhlenbeck (OU) process — ornstein_uhlenbeck","text":"list two elements: t y. t duplicate input t, y values OU process times. Output list S3 class timelist (inherits list) can thus plotted directly using plot, see ?admtools::plot.timelist","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/ornstein_uhlenbeck.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"simulate ornstein-uhlenbeck (OU) process — ornstein_uhlenbeck","text":"","code":"library(\"admtools\") # required for plotting of results t = seq(0, 3, by = 0.01) l = ornstein_uhlenbeck(t, y0 = 3) # start away from optimum (mu) plot(l, type = \"l\") l2 = ornstein_uhlenbeck(t, y0 = 0) # start in optimum lines(l2$t, l2$y, col = \"red\")"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3.html","id":null,"dir":"Reference","previous_headings":"","what":"simulate Poisson point process — p3","title":"simulate Poisson point process — p3","text":"Simulates events interval based Poisson point process rate rate. parameter n used, number fossils conditioned n context paleontology, events can interpreted fossil occurrences first/last occurrences species. case, rate average number fossil occurrences (resp first/last occurrences) per unit","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simulate Poisson point process — p3","text":"","code":"p3(rate, from, to, n = NULL)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simulate Poisson point process — p3","text":"rate strictly positive scalar, rate events (avg events per unit) lowest boundary observed interval upper boundary observed interval n integer NULL (default). Number events return. NULL, number random determined rate parameter","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"simulate Poisson point process — p3","text":"numeric vector timing/location events.","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"simulate Poisson point process — p3","text":"","code":"# for fossil occ. x = p3(rate = 5, from = 0, to = 1) # 5 fossil occurrences per myr on avg. hist(x, xlab = \"Time (Myr)\", ylab = \"Fossil Occurrences\" )   x = p3(rate = 3, from = 0, to = 4) hist(x, main = paste0(length(x), \" samples\")) # no of events is random   x = p3(rate = 3, from = 0, to = 4, n = 10) hist(x, main = paste0(length(x), \" samples\")) # no of events is fixed to n   # see also #vignette(\"event_data\") # for details on usage and applications to paleontology"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3_var_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"simulate variable rate Poisson point process — p3_var_rate","title":"simulate variable rate Poisson point process — p3_var_rate","text":"simulates events based variable rate Poisson point process. Rates can either specified function passed x, providing two vectors x y. case rate specified approxfun(x, y, rule = 2), .e. linear interpolation values x (abscissa) y (ordinate) context paleontology, events can interpreted fossil occurrences first/last occurrences species. case, rate average number fossil occurrences (resp first/last occurrences) per unit","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3_var_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simulate variable rate Poisson point process — p3_var_rate","text":"","code":"p3_var_rate(x, y = NULL, from = 0, to = 1, f_max = 1, n = NULL)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3_var_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simulate variable rate Poisson point process — p3_var_rate","text":"x numeric vector function. x function, used specify variable rate. x vector, x y together specify variable rate using linear interpolation y numeric vector. specified, determines variable rate. done using linear interpolation values y. x specifies ordinate y abscissa lower boundary observed interval upper boundary observed f_max maximum value x interval x_min x_max. x attains values larger f_max warning throw, f_max adjusted, sampling started n NULL integer. Number events drawn. NULL, number events determined rate (specified x y). integer passed, n events returned.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3_var_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"simulate variable rate Poisson point process — p3_var_rate","text":"numeric vector, timing/location events. Depending modeling framework, tyese events can represent location/age fossils, first/last occurrences group taxa.","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/p3_var_rate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"simulate variable rate Poisson point process — p3_var_rate","text":"","code":"# assuming events are fossil occurrences # then rate is the avg rate of fossil occ. per unit #linear decrease in rate from 50 at x = 0 to 0 at x = 1 x = c(0, 1) y = c(50, 0) s = p3_var_rate(x, y, f_max = 50) hist(s, xlab = \"Time (myr)\", main = \"Fossil Occurrences\")  # conditioned to return 100 samples s = p3_var_rate(x, y, f_max = 50, n = 100) # hand over function s = p3_var_rate(x = sin, from = 0 , to = 3 * pi, n = 50) hist(s) # note that negative values of f (sin) are ignored in sampling   # see also #vignette(\"event_data\") # for details on usage and applications to paleontology"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/random_walk.html","id":null,"dir":"Reference","previous_headings":"","what":"continuous time random walk — random_walk","title":"continuous time random walk — random_walk","text":"Simulates (continuous time) random walk Brownian drift","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/random_walk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"continuous time random walk — random_walk","text":"","code":"random_walk(t, sigma = 1, mu = 0, y0 = 0)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/random_walk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"continuous time random walk — random_walk","text":"t numeric vector strictly increasing elements, can heterodistant. Times random walk evaluated sigma positive scalar, variance parameter mu scalar, directionality parameter y0 scalar, starting value (value random walk first entry t)","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/random_walk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"continuous time random walk — random_walk","text":"list elements t y. t duplicate input parameter times random walk evaluated. y values random walk said times. Output list S3 class timelist (inherits list) can thus plotted directly using plot, see ?admtools::plot.timelist","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/random_walk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"continuous time random walk — random_walk","text":"","code":"library(\"admtools\") # required for plotting of results t = seq(0, 1, by = 0.01) l = random_walk(t, sigma = 3) # high variability, no direction plot(l, type = \"l\") l2 = random_walk(t, mu = 1) # low variabliity, increasing trend lines(l2$t, l2$y, col = \"red\")"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/rej_samp.html","id":null,"dir":"Reference","previous_headings":"","what":"rejection sampling — rej_samp","title":"rejection sampling — rej_samp","text":"Rejection sampling (pseudo) pdf f interval x_min x_max. Returns n samples. Note values f 0 capped zero","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/rej_samp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"rejection sampling — rej_samp","text":"","code":"rej_samp(f, x_min, x_max, n = 1L, f_max = 1)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/rej_samp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"rejection sampling — rej_samp","text":"f function. (pseudo) pdf sample drawn x_min scalar. lower limit examined interval x_max scalar. upper limit examined interval n integer. number samples drawn f_max maximum value f interval x_min x_max. f attains values larger f_max warning throw, f_max adjusted, sampling started ","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/rej_samp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"rejection sampling — rej_samp","text":"numeric vector, sample size n drawn (pseudo) pdf specified f","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/rej_samp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"rejection sampling — rej_samp","text":"","code":"f = sin x = rej_samp(f, 0, 3*pi, n = 100) hist(x) # note that no samples are drawn where sin is negative"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/scenarioA.html","id":null,"dir":"Reference","previous_headings":"","what":"example data, scenario A from Hohmann et al. (2024) — scenarioA","title":"example data, scenario A from Hohmann et al. (2024) — scenarioA","text":"Scenario described Hohmann et al. (2024), published Hohmann et al. (2023). Contains data carbonate platform simulated using CarboCAT Lite (Burgess 2013, 2023)","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/scenarioA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"example data, scenario A from Hohmann et al. (2024) — scenarioA","text":"","code":"scenarioA"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/scenarioA.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"example data, scenario A from Hohmann et al. (2024) — scenarioA","text":"list 6 elements: t_myr : numeric vector. timesteps simulation Myr sl_m : numeric vector. eustatic sea level m dist_from_shore : character vector. Distance shore km locations observations made h_m : matrix size length(t_myr) x length(dist_from_shore). Accumulated sediment height m examined locations wd_m: matrix size length(t_myr) x length(dist_from_shore). Water depth m examined locations strat_col: list length(dist_from shore) elements. Represents stratigraphic column. element list two elements: bed_thickness_m: numeric vector. Bed thickness m facies_code : integer vector. facies code bed","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/scenarioA.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"example data, scenario A from Hohmann et al. (2024) — scenarioA","text":"Burgess, Peter. 2013. \"CarboCAT: cellular automata model heterogeneous carbonate strata.\" Computers & Geosciences. doi:10.1016/j.cageo.2011.08.026 . Burgess, Peter. 2023. \"CarboCATLite v1.0.1.\" Zenodo. doi:10.5281/zenodo.8402578 Hohmann, Niklas; Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2024. \"Identification mode evolution incomplete carbonate successions.\" BMC Ecology Evolution 24, 113. doi:10.1186/s12862-024-02287-2 . Hohmann, Niklas, Koelewijn, Joël R.; Burgess, Peter; Jarochowska, Emilia. 2023. “Identification Mode Evolution Incomplete Carbonate Successions - Supporting Data.” Open Science Framework. doi:10.17605/OSF.IO/ZBPWA , published CC-4.0 license.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/snd_niche.html","id":null,"dir":"Reference","previous_headings":"","what":"simple niche model — snd_niche","title":"simple niche model — snd_niche","text":"Defines niche model based \"Probability collection\" model Holland Patzkowsky (1999). collection probability follows shape bell curve across gradient, opt determines peak (mean) bell curve, tol standard deviation. \"snd\" stands \"scaled normal distribution\", collection probability shape probability density normal distribution.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/snd_niche.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simple niche model — snd_niche","text":"","code":"snd_niche(opt, tol, prob_modifier = 1, cutoff_val = NULL)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/snd_niche.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simple niche model — snd_niche","text":"opt optimum value, gradient value collection probability highest tol tolerance changes gradient. large values, collection probability drops slower away opt prob_modifier collection probability modifier, collection probability opt. cutoff_val NULL number. number, collection probabilities gradient values cutoff_value set 0. can example used model exclusively marine species gradient water depth (see examples).","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/snd_niche.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"simple niche model — snd_niche","text":"function usage apply_niche.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/snd_niche.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"simple niche model — snd_niche","text":"Holland, Steven M. Patzkowsky, Mark E. 1999. \"Models simulating fossil record.\" Geology. https://doi.org/10.1130/0091-7613(1999)027%3C0491:MFSTFR%3E2.3.CO;2","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/snd_niche.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"simple niche model — snd_niche","text":"","code":"# using water depth as niche wd = seq(-3, 40, by = 0.5) f = snd_niche(opt = 10, tol = 5)  plot(wd, f(wd), xlab = \"Water depth\", ylab = \"Prob. of collection\")  # set cutoff value at to 0 to model non-terrestrial species. f = snd_niche(opt = 10, tol = 5, cutoff_val = 0) plot(wd, f(wd), xlab = \"Water depth\", ylab = \"Prob. of collection\")   # see also #vignette(\"event_data\") #for examples how to use it for niche modeling"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/stasis.html","id":null,"dir":"Reference","previous_headings":"","what":"simulate phenotypic stasis — stasis","title":"simulate phenotypic stasis — stasis","text":"Simulates stasis independent, normally distributed random variables mean mean standard deviation sd","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/stasis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simulate phenotypic stasis — stasis","text":"","code":"stasis(t, mean = 0, sd = 1)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/stasis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simulate phenotypic stasis — stasis","text":"t times traits determined mean scalar, mean trait value sd strictly positive scalar, standard deviation traits","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/stasis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"simulate phenotypic stasis — stasis","text":"list two elements: t y. t duplicate input t, y corresponding trait values. Output list S3 class timelist (inherits list) can thus plotted directly using plot, see ?admtools::plot.timelist","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/stasis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"simulate phenotypic stasis — stasis","text":"","code":"library(\"admtools\") # required for plotting of results  t = seq(0, 1, by = 0.01)  l = stasis(t)  plot(l, type = \"l\") # plot lineage  l2 = stasis(t, mean = 0.5, sd = 0.3) # simulate second lineage  lines(l2$t, l2$y, col = \"red\") # plot second lineage"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/thin.html","id":null,"dir":"Reference","previous_headings":"","what":"thin a series of events (e.g. fossil occurrences) — thin","title":"thin a series of events (e.g. fossil occurrences) — thin","text":"Thins vector events using function thin, meaning probability ith event x preserved given thin(x()). Values thin 0 1 ignored. used model niche preferences apply_niche taphonomic effects apply_taphonomy.","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/thin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"thin a series of events (e.g. fossil occurrences) — thin","text":"","code":"thin(x, thin)"},{"path":"https://mindthegap-erc.github.io/StratPal/reference/thin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"thin a series of events (e.g. fossil occurrences) — thin","text":"x numeric vectors events (e.g. locations, height, times) thin function used thinning","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/reference/thin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"thin a series of events (e.g. fossil occurrences) — thin","text":"numeric vector, events thinning. Depending modeling framework, events can represent fossil ages/locations first/last occurrences, thinning taphonomic ecological effects.","code":""},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/reference/thin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"thin a series of events (e.g. fossil occurrences) — thin","text":"","code":"x = p3(rate = 100, from = 0, to = 3 * pi) # simulate Poisson point process y = thin(x, sin) hist(y) # not how negative values of sin are treated as 0  yy = thin(x, function(x) 5 * sin(x)) hist(yy) # note how values of 5 * sin above 1 are not affecting the thinning"},{"path":[]},{"path":"https://mindthegap-erc.github.io/StratPal/news/index.html","id":"stratpal-011","dir":"Changelog","previous_headings":"","what":"StratPal 0.1.1","title":"StratPal 0.1.1","text":"add citation DOI","code":""},{"path":"https://mindthegap-erc.github.io/StratPal/news/index.html","id":"stratpal-010","dir":"Changelog","previous_headings":"","what":"StratPal 0.1.0","title":"StratPal 0.1.0","text":"add simulation point processes (constant variable rate Poisson point processes) rejections sampling basis point processes thinning functionality point processes simulations basic modes evolution (stasis, random walk, OU) basic niche modeling add example data","code":""}]
